# Oracle-索引分裂研究


索引分裂（Index Block Split），就是索引块的分裂。当一次DML操作修改了索引块上的数据，但是旧有的索引块没有足够的空间去容纳新修改的数据时，将分裂出一个新的索引块，旧有块的部分数据放到新开辟的索引块上去，这个过程就称为索引块的分裂，简称索引分裂。

在分裂的过程中，前台进程需要等待分裂完成之后才能继续操作。如果此时其它会话也要修改这个索引块的数据，那么将会出现索引块的竞争，等待以“enq: TX – index contention”的形式体现，该事件是一个与索引分裂直接相关的等待事件。一般索引块的分裂持有资源和释放非常迅速，并不会对[数据库](https://cloud.tencent.com/solution/database?from_column=20065&from=20065)造成严重的性能影响，但是在表操作并发量很大的情况下可能导致严重的竞争。当索引分裂发生时，负责实施分裂的进程会持有相关的队列锁，直到该进程完成分裂操作才会释放该队列锁。在这个过程中负责分裂的进程需要找到合适的新块并将对应的数据移动到该新块中。若在此分裂的过程中，有其它进程INSERT数据到该索引块中，则将进入enq: TX – index contention等待，直到分裂结束锁被释放。
