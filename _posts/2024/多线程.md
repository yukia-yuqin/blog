# java多线程

## 什么是AQS?

    抽象队列同步器. ReentrantLock\CountDownLatch\Semaphore等都用到了他. AQS实际上双向队列的形式连接所有的Entry. 所有等待的线程都被放在一个Entry中并形成双向队列.

## 单例模式?

    饿汉式. 线程安全.

    懒汉式, 非线程安全

    双检锁, 线程安全.

## 线程类的构造方法\静态块是被哪个线程调用的?

   如果Thread2中new了Thread1, main函数中new了Thread2,  那么Thread2的构造方法\静态块是main线程调用的, Thread2的run()方法是Thread2自己调用的.

## 怎么使用线程池?

    高并发\任务执行时间短的业务, 线程池线程数可以设置为cpu核数+1, 减少线程上下文的切换.

    并发不高\任务执行时间长的业务要区分开看.

    1IO密集的任务, 因为io操作并不占用cpu, 因此不要让所有的cpu闲下来, 可以加大线程池中的线程数目. 让cpu处理更多的业务.

    2 计算密集型任务, 线程池中的线程数设置少一些, cpu核数+1, 减少线程上下文切换.

    3 并发高 业务执行时间长的任务 关键不在于线程池而是整体架构的设计, 看这些业务里面某些数据是否能缓存, 是否能增加服务器.能不能使用中间件对任务进行拆分和解耦.

## 线程和进程的区别是什么

    进程和线程的主要差别在于它们是不同的操作系统管理资源的方式. 进程有独立的地址空间.

## java实现线程有哪几种方式?

    1 继承Thread类实现多线程

    2 实现runnable接口方式实现多线程

    3 使用ExecutorService\Callable\Future实现有返回结果的多线程.

    4  通过线程池创建线程

# jvm虚拟机

# spring

# springmvc

# springboot

# springcloud

# mybatis

# mysql